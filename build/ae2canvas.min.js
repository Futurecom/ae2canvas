!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.AE2Canvas=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){this.data=a.data||function(){throw"no data"}(),this.then=0,this.pausedTime=0,this.duration=this.data.duration,this.baseWidth=this.data.width,this.baseHeight=this.data.height,this.ratio=this.data.width/this.data.height,this.markers=this.data.markers,this.canvas=a.canvas||document.createElement("canvas"),this.loop=a.loop||!1,this.devicePixelRatio=a.devicePixelRatio||1,this.fluid=a.fluid||!0,this.reversed=a.reversed||!1,this.imageBasePath=a.imageBasePath||"",this.onComplete=a.onComplete||function(){},this.ctx=this.canvas.getContext("2d"),this.canvas.width=this.baseWidth,this.canvas.height=this.baseHeight,this.buffer=document.createElement("canvas"),this.buffer.width=this.baseWidth,this.buffer.height=this.baseHeight,this.bufferCtx=this.buffer.getContext("2d"),this.groups=[];for(var b=0;b<this.data.groups.length;b++)this.groups.push(new e(this.data.groups[b],this.bufferCtx,0,this.duration));this.groupsLength=this.groups.length,this.images=[];for(var c=0;c<this.data.images.length;c++)this.images.push(new f(this.data.images[c],this.bufferCtx,0,this.duration,this.imageBasePath));this.imagesLength=this.images.length,this.reset(this.reversed),this.resize(),this.isPaused=!1,this.isPlaying=!1,this.drawFrame=!0,g.push(this),h=g.length}var e=a("./Group"),f=a("./ImageLayer"),g=[],h=0;!function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){var a=Date.now();performance.timing&&performance.timing.navigationStart&&(a=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-a}}}(),d.prototype={play:function(){this.isPlaying||(this.isPaused||this.reset(this.reversed),this.isPaused=!1,this.pausedTime=0,this.isPlaying=!0)},stop:function(){this.reset(this.reversed),this.isPlaying=!1,this.drawFrame=!0},pause:function(){this.isPlaying&&(this.isPaused=!0,this.pausedTime=this.compTime,this.isPlaying=!1)},gotoAndPlay:function(a){var b=this.getMarker(a);b&&(this.compTime=b.time,this.pausedTime=0,this.setKeyframes(this.compTime),this.isPlaying=!0)},gotoAndStop:function(a){var b=this.getMarker(a);b&&(this.isPlaying=!1,this.compTime=b.time,this.setKeyframes(this.compTime),this.drawFrame=!0)},getMarker:function(a){if("number"==typeof a)return this.markers[a];if("string"==typeof a)for(var b=0;b<this.markers.length;b++)if(this.markers[b].comment===a)return this.markers[b]},checkStopMarkers:function(a,b){for(var c=0;c<this.markers.length;c++)if(this.markers[c].stop&&this.markers[c].time>a&&this.markers[c].time<b)return this.markers[c];return!1},setStep:function(a){this.isPlaying=!1,this.compTime=a*this.duration,this.pausedTime=this.compTime,this.setKeyframes(this.compTime),this.drawFrame=!0},getStep:function(){return this.compTime/this.duration},update:function(a){var b=a-this.then;if(this.then=a,this.isPlaying){this.compTime=this.reversed?this.compTime-b:this.compTime+b;var c=this.checkStopMarkers(this.compTime-b,this.compTime);this.compTime>this.duration||this.reversed&&this.compTime<0?(this.compTime=this.reversed?0:this.duration-1,this.isPlaying=!1,this.onComplete(),this.loop&&this.play()):c?(this.compTime=c.time,this.pause()):this.draw(this.compTime)}else this.drawFrame&&(this.drawFrame=!1,this.draw(this.compTime))},draw:function(a){this.ctx.clearRect(0,0,this.baseWidth,this.baseHeight);for(var b=0;b<this.groupsLength;b++)a>=this.groups[b]["in"]&&a<this.groups[b].out&&this.groups[b].draw(this.ctx,a);for(var c=0;c<this.imagesLength;c++)a>=this.images[c]["in"]&&a<this.images[c].out&&this.images[c].draw(this.ctx,a)},reset:function(){this.pausedTime=0,this.compTime=this.reversed?this.duration:0;for(var a=0;a<this.groupsLength;a++)this.groups[a].reset(this.reversed);for(var b=0;b<this.imagesLength;b++)this.images[b].reset(this.reversed)},setKeyframes:function(a){for(var b=0;b<this.groupsLength;b++)this.groups[b].setKeyframes(a);for(var c=0;c<this.imagesLength;c++)this.images[c].setKeyframes(a)},destroy:function(){this.isPlaying=!1,this.onComplete=null;var a=g.indexOf(this);a>-1&&(g.splice(a,1),h=g.length),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)},resize:function(a){if(this.fluid){var b=a||this.canvas.clientWidth||this.baseWidth;this.canvas.width=b*this.devicePixelRatio,this.canvas.height=b/this.ratio*this.devicePixelRatio,this.scale=b/this.baseWidth*this.devicePixelRatio,this.ctx.transform(this.scale,0,0,this.scale,0,0),this.setKeyframes(this.compTime),this.drawFrame=!0}},get reversed(){return this._reversed},set reversed(a){this._reversed=a,this.pausedTime?this.compTime=this.pausedTime:this.isPlaying||(this.compTime=this.reversed?this.duration:0),this.setKeyframes(this.compTime)}},b.exports={Animation:d,update:function(a){a=void 0!==a?a:window.performance.now();for(var b=0;h>b;b++)g[b].update(a)}}},{"./Group":8,"./ImageLayer":9}],2:[function(a,b,c){"use strict";function d(a){e.call(this,a),this.frameCount=this.frames.length}var e=a("./Path"),f=a("./BezierEasing");d.prototype=Object.create(e.prototype),d.prototype.getValue=function(a){return this.finished&&a>=this.nextFrame.t?this.nextFrame:!this.started&&a<=this.lastFrame.t?this.lastFrame:(this.started=!0,this.finished=!1,a>this.nextFrame.t?this.pointer+1===this.frameCount?this.finished=!0:(this.pointer++,this.lastFrame=this.frames[this.pointer-1],this.nextFrame=this.frames[this.pointer],this.onKeyframeChange()):a<this.lastFrame.t&&(this.pointer<2?this.started=!1:(this.pointer--,this.lastFrame=this.frames[this.pointer-1],this.nextFrame=this.frames[this.pointer],this.onKeyframeChange())),this.getValueAtTime(a))},d.prototype.setKeyframes=function(a){if(a<this.frames[0].t)return this.pointer=1,this.nextFrame=this.frames[this.pointer],this.lastFrame=this.frames[this.pointer-1],void this.onKeyframeChange();if(a>this.frames[this.frameCount-1].t)return this.pointer=this.frameCount-1,this.nextFrame=this.frames[this.pointer],this.lastFrame=this.frames[this.pointer-1],void this.onKeyframeChange();for(var b=1;b<this.frameCount;b++)if(a>=this.frames[b-1].t&&a<=this.frames[b])return this.pointer=b,this.lastFrame=this.frames[b-1],this.nextFrame=this.frames[b],void this.onKeyframeChange()},d.prototype.onKeyframeChange=function(){this.setEasing()},d.prototype.lerp=function(a,b,c){return a+c*(b-a)},d.prototype.setEasing=function(){this.lastFrame.easeOut&&this.nextFrame.easeIn?this.easing=new f(this.lastFrame.easeOut[0],this.lastFrame.easeOut[1],this.nextFrame.easeIn[0],this.nextFrame.easeIn[1]):this.easing=null},d.prototype.getValueAtTime=function(a){var b=a-this.lastFrame.t,c=this.nextFrame.t-this.lastFrame.t,d=b/c;d>1?d=1:0>d?d=0:this.easing&&(d=this.easing(d));for(var e=[],f=[],g=0;g<this.verticesCount;g++){var h=this.lerp(this.lastFrame.v[g][0],this.nextFrame.v[g][0],d),i=this.lerp(this.lastFrame.v[g][1],this.nextFrame.v[g][1],d),j=this.lerp(this.lastFrame.v[g][2],this.nextFrame.v[g][2],d),k=this.lerp(this.lastFrame.v[g][3],this.nextFrame.v[g][3],d),l=this.lerp(this.lastFrame.v[g][4],this.nextFrame.v[g][4],d),m=this.lerp(this.lastFrame.v[g][5],this.nextFrame.v[g][5],d);e.push([h,i,j,k,l,m])}for(var n=0;n<this.verticesCount-1;n++)f.push(this.lerp(this.lastFrame.len[n],this.nextFrame.len[n],d));return{v:e,len:f}},d.prototype.reset=function(a){this.finished=!1,this.started=!1,this.pointer=a?this.frameCount-1:1,this.nextFrame=this.frames[this.pointer],this.lastFrame=this.frames[this.pointer-1],this.onKeyframeChange()},b.exports=d},{"./BezierEasing":5,"./Path":11}],3:[function(a,b,c){"use strict";function d(a){e.call(this,a),this.frameCount=this.frames.length}var e=a("./Property"),f=a("./BezierEasing");d.prototype=Object.create(e.prototype),d.prototype.lerp=function(a,b,c){if(a instanceof Array){for(var d=[],e=0;e<a.length;e++)d[e]=a[e]+c*(b[e]-a[e]);return d}return a+c*(b-a)},d.prototype.setEasing=function(){this.nextFrame.easeIn?this.easing=new f(this.lastFrame.easeOut[0],this.lastFrame.easeOut[1],this.nextFrame.easeIn[0],this.nextFrame.easeIn[1]):this.easing=null},d.prototype.getValue=function(a){return this.finished&&a>=this.nextFrame.t?this.nextFrame.v:!this.started&&a<=this.lastFrame.t?this.lastFrame.v:(this.started=!0,this.finished=!1,a>this.nextFrame.t?this.pointer+1===this.frameCount?this.finished=!0:(this.pointer++,this.lastFrame=this.frames[this.pointer-1],this.nextFrame=this.frames[this.pointer],this.onKeyframeChange()):a<this.lastFrame.t&&(this.pointer<2?this.started=!1:(this.pointer--,this.lastFrame=this.frames[this.pointer-1],this.nextFrame=this.frames[this.pointer],this.onKeyframeChange())),this.getValueAtTime(a))},d.prototype.setKeyframes=function(a){if(a<this.frames[0].t)return this.pointer=1,this.nextFrame=this.frames[this.pointer],this.lastFrame=this.frames[this.pointer-1],void this.onKeyframeChange();if(a>this.frames[this.frameCount-1].t)return this.pointer=this.frameCount-1,this.nextFrame=this.frames[this.pointer],this.lastFrame=this.frames[this.pointer-1],void this.onKeyframeChange();for(var b=1;b<this.frameCount;b++)if(a>=this.frames[b-1].t&&a<=this.frames[b].t)return this.pointer=b,this.lastFrame=this.frames[b-1],this.nextFrame=this.frames[b],void this.onKeyframeChange()},d.prototype.onKeyframeChange=function(){this.setEasing()},d.prototype.getElapsed=function(a){var b=a-this.lastFrame.t,c=this.nextFrame.t-this.lastFrame.t,d=b/c;return d>1?d=1:0>d?d=0:this.easing&&(d=this.easing(d)),d},d.prototype.getValueAtTime=function(a){return this.lerp(this.lastFrame.v,this.nextFrame.v,this.getElapsed(a))},d.prototype.reset=function(a){this.finished=!1,this.started=!1,this.pointer=a?this.frameCount-1:1,this.nextFrame=this.frames[this.pointer],this.lastFrame=this.frames[this.pointer-1],this.onKeyframeChange()},b.exports=d},{"./BezierEasing":5,"./Property":14}],4:[function(a,b,c){"use strict";function d(a){this.path=a}d.prototype.getLength=function(a){this.steps=Math.max(Math.floor(a/10),1),this.arcLengths=new Array(this.steps+1),this.arcLengths[0]=0;for(var b=this.cubicN(0,this.path[0],this.path[2],this.path[4],this.path[6]),c=this.cubicN(0,this.path[1],this.path[3],this.path[5],this.path[7]),d=0,e=1/this.steps,f=1;f<=this.steps;f+=1){var g=this.cubicN(f*e,this.path[0],this.path[2],this.path[4],this.path[6]),h=this.cubicN(f*e,this.path[1],this.path[3],this.path[5],this.path[7]),i=b-g,j=c-h;d+=Math.sqrt(i*i+j*j),this.arcLengths[f]=d,b=g,c=h}this.length=d},d.prototype.map=function(a){for(var b=a*this.arcLengths[this.steps],c=0,d=this.steps,e=0;d>c;)e=c+((d-c)/2|0),this.arcLengths[e]<b?c=e+1:d=e;this.arcLengths[e]>b&&e--;var f=this.arcLengths[e];return f===b?e/this.steps:(e+(b-f)/(this.arcLengths[e+1]-f))/this.steps},d.prototype.getValues=function(a){var b=this.map(a),c=this.cubicN(b,this.path[0],this.path[2],this.path[4],this.path[6]),d=this.cubicN(b,this.path[1],this.path[3],this.path[5],this.path[7]);return[c,d]},d.prototype.cubicN=function(a,b,c,d,e){var f=a*a,g=f*a;return b+(3*-b+a*(3*b-b*a))*a+(3*c+a*(-6*c+3*c*a))*a+(3*d-3*d*a)*f+e*g},b.exports=d},{}],5:[function(a,b,c){!function(a){"object"==typeof c?b.exports=a():"function"==typeof window.define&&window.define.amd?window.define([],a):window.BezierEasing=a()}(function(){function a(a,i,j,k){function l(a,b){return 1-3*b+3*a}function m(a,b){return 3*b-6*a}function n(a){return 3*a}function o(a,b,c){return((l(b,c)*a+m(b,c))*a+n(b))*a}function p(a,b,c){return 3*l(b,c)*a*a+2*m(b,c)*a+n(b)}function q(c,d){for(var e=0;b>e;++e){var f=p(d,a,j);if(0===f)return d;var g=o(d,a,j)-c;d-=g/f}return d}function r(){for(var b=0;f>b;++b)v[b]=o(b*g,a,j)}function s(b,c,f){var g,h,i=0;do h=c+(f-c)/2,g=o(h,a,j)-b,g>0?f=h:c=h;while(Math.abs(g)>d&&++i<e);return h}function t(b){for(var d=0,e=1,h=f-1;e!=h&&v[e]<=b;++e)d+=g;--e;var i=(b-v[e])/(v[e+1]-v[e]),k=d+i*g,l=p(k,a,j);return l>=c?q(b,k):0==l?k:s(b,d,d+g)}if(4!==arguments.length)throw new Error("BezierEasing requires 4 arguments.");for(var u=0;4>u;++u)if("number"!=typeof arguments[u]||isNaN(arguments[u])||!isFinite(arguments[u]))throw new Error("BezierEasing arguments should be integers.");if(0>a||a>1||0>j||j>1)throw new Error("BezierEasing x values must be in [0, 1] range.");var v=h?new Float32Array(f):new Array(f);(a!=i||j!=k)&&r();var w=function(b){return a===i&&j===k?b:0===b?0:1===b?1:o(t(b),i,k)},x="BezierEasing("+[a,i,j,k]+")";return w.toString=function(){return x},w}var b=4,c=.001,d=1e-7,e=10,f=11,g=1/(f-1),h="function"==typeof Float32Array;return a.css={ease:a(.25,.1,.25,1),linear:a(0,0,1,1),"ease-in":a(.42,0,1,1),"ease-out":a(0,0,.58,1),"ease-in-out":a(.42,0,.58,1)},a})},{}],6:[function(a,b,c){"use strict";function d(a){this.name=a.name,this.closed=!0,this.size=a.size.length>1?new g(a.size):new f(a.size),a.position&&(this.position=a.position.length>1?new g(a.position):new f(a.position))}var e=a("./Path"),f=a("./Property"),g=a("./AnimatedProperty");d.prototype=Object.create(e.prototype),d.prototype.draw=function(a,b,c){var d,e,f=this.size.getValue(b),g=this.position?this.position.getValue(b):[0,0],h=f[0]/2,i=f[1]/2,j=g[0]-h,k=g[1]-i,l=.5522848*h,m=.5522848*i,n=[[j+h+l,k,j+h-l,k,j+h,k],[j+h+h,k+i+m,j+h+h,k+i-m,j+h+h,k+i],[j+h-l,k+i+i,j+h+l,k+i+i,j+h,k+i+i],[j,k+i-m,j,k+i+m,j,k+i]];if(c){var o,p=h+i;for(c=this.getTrimValues(c),d=0;4>d;d++)e=d+1,e>3&&(e=0),d>c.startIndex&&d<c.endIndex?a.bezierCurveTo(n[d][0],n[d][1],n[e][2],n[e][3],n[e][4],n[e][5]):d===c.startIndex&&d===c.endIndex?(o=this.trim(n[d],n[e],c.start,c.end,p),a.moveTo(o.start[4],o.start[5]),a.bezierCurveTo(o.start[0],o.start[1],o.end[2],o.end[3],o.end[4],o.end[5])):d===c.startIndex?(o=this.trim(n[d],n[e],c.start,1,p),a.moveTo(o.start[4],o.start[5]),a.bezierCurveTo(o.start[0],o.start[1],o.end[2],o.end[3],o.end[4],o.end[5])):d===c.endIndex&&(o=this.trim(n[d],n[e],0,c.end,p),a.bezierCurveTo(o.start[0],o.start[1],o.end[2],o.end[3],o.end[4],o.end[5]))}else for(a.moveTo(n[0][4],n[0][5]),d=0;4>d;d++)e=d+1,e>3&&(e=0),a.bezierCurveTo(n[d][0],n[d][1],n[e][2],n[e][3],n[e][4],n[e][5])},d.prototype.getTrimValues=function(a){var b=Math.floor(4*a.start),c=Math.floor(4*a.end),d=4*(a.start-.25*b),e=4*(a.end-.25*c);return{startIndex:b,endIndex:c,start:d,end:e}},d.prototype.setKeyframes=function(a){this.size.setKeyframes(a),this.position&&this.position.setKeyframes(a)},d.prototype.reset=function(a){this.size.reset(a),this.position&&this.position.reset(a)},b.exports=d},{"./AnimatedProperty":3,"./Path":11,"./Property":14}],7:[function(a,b,c){"use strict";function d(a){this.color=a.color.length>1?new f(a.color):new e(a.color),a.opacity&&(this.opacity=a.opacity.length>1?new f(a.opacity):new e(a.opacity))}var e=a("./Property"),f=a("./AnimatedProperty");d.prototype.getValue=function(a){var b=this.color.getValue(a),c=this.opacity?this.opacity.getValue(a):1;return"rgba("+Math.round(b[0])+", "+Math.round(b[1])+", "+Math.round(b[2])+", "+c+")"},d.prototype.setColor=function(a,b){var c=this.getValue(b);a.fillStyle=c},d.prototype.setKeyframes=function(a){this.color.setKeyframes(a),this.opacity&&this.opacity.setKeyframes(a)},d.prototype.reset=function(a){this.color.reset(a),this.opacity&&this.opacity.reset(a)},b.exports=d},{"./AnimatedProperty":3,"./Property":14}],8:[function(a,b,c){"use strict";function d(a,b,c,o){if(this.name=a.name,this["in"]=a["in"]?a["in"]:c,this.out=a.out?a.out:o,a.fill&&(this.fill=new k(a.fill)),a.stroke&&(this.stroke=new e(a.stroke)),a.trim&&(this.trim=new n(a.trim)),a.merge&&(this.merge=new m(a.merge)),this.transform=new l(a.transform),this.bufferCtx=b,a.groups){this.groups=[];for(var p=0;p<a.groups.length;p++)this.groups.push(new d(a.groups[p],this.bufferCtx,this["in"],this.out))}if(a.shapes){this.shapes=[];for(var q=0;q<a.shapes.length;q++){var r=a.shapes[q];"path"===r.type?r.isAnimated?this.shapes.push(new j(r)):this.shapes.push(new f(r)):"rect"===r.type?this.shapes.push(new g(r)):"ellipse"===r.type?this.shapes.push(new h(r)):"polystar"===r.type&&this.shapes.push(new i(r))}}}var e=a("./Stroke"),f=a("./Path"),g=a("./Rect"),h=a("./Ellipse"),i=a("./Polystar"),j=a("./AnimatedPath"),k=a("./Fill"),l=a("./Transform"),m=a("./Merge"),n=a("./Trim");d.prototype.draw=function(a,b,c,d,e){var f;a.save();var g=this.fill||c,h=this.stroke||d,i=this.trim?this.trim.getTrim(b):e;if(g&&g.setColor(a,b),h&&h.setStroke(a,b),this.transform.transform(a,b),this.merge&&(this.bufferCtx.save(),this.bufferCtx.clearRect(0,0,this.bufferCtx.canvas.width,this.bufferCtx.canvas.height),this.transform.transform(this.bufferCtx,b),g&&g.setColor(this.bufferCtx,b),h&&h.setStroke(this.bufferCtx,b)),a.beginPath(),this.shapes)if(this.merge){for(f=0;f<this.shapes.length;f++)this.shapes[f].draw(this.bufferCtx,b,i),this.bufferCtx.closePath(),g&&this.bufferCtx.fill(),h&&this.bufferCtx.stroke(),this.bufferCtx.beginPath(),this.merge.setCompositeOperation(this.bufferCtx);a.restore(),a.drawImage(this.bufferCtx.canvas,0,0),this.bufferCtx.restore()}else{for(f=0;f<this.shapes.length;f++)this.shapes[f].draw(a,b,i);this.shapes[this.shapes.length-1].closed}if(g&&a.fill(),h&&a.stroke(),this.groups)if(this.merge){for(f=0;f<this.groups.length;f++)b>=this.groups[f]["in"]&&b<this.groups[f].out&&(this.groups[f].draw(this.bufferCtx,b,g,h,i),this.merge.setCompositeOperation(this.bufferCtx));a.restore(),a.drawImage(this.bufferCtx.canvas,0,0),this.bufferCtx.restore()}else for(f=0;f<this.groups.length;f++)b>=this.groups[f]["in"]&&b<this.groups[f].out&&this.groups[f].draw(a,b,g,h,i);a.restore()},d.prototype.setKeyframes=function(a){if(this.transform.setKeyframes(a),this.shapes)for(var b=0;b<this.shapes.length;b++)this.shapes[b].setKeyframes(a);if(this.groups)for(var c=0;c<this.groups.length;c++)this.groups[c].setKeyframes(a);this.fill&&this.fill.setKeyframes(a),this.stroke&&this.stroke.setKeyframes(a),this.trim&&this.trim.setKeyframes(a)},d.prototype.reset=function(a){if(this.transform.reset(a),this.shapes)for(var b=0;b<this.shapes.length;b++)this.shapes[b].reset(a);if(this.groups)for(var c=0;c<this.groups.length;c++)this.groups[c].reset(a);this.fill&&this.fill.reset(a),this.stroke&&this.stroke.reset(a),this.trim&&this.trim.reset(a)},b.exports=d},{"./AnimatedPath":2,"./Ellipse":6,"./Fill":7,"./Merge":10,"./Path":11,"./Polystar":12,"./Rect":15,"./Stroke":16,"./Transform":17,"./Trim":18}],9:[function(a,b,c){"use strict";function d(a,b,c,d,f){this.isLoaded=!1,this.name=a.name,this.source=f+a.source,this.img=new Image,this.img.onload=function(){this.isLoaded=!0}.bind(this),this.img.src=this.source,this["in"]=a["in"]?a["in"]:c,this.out=a.out?a.out:d,this.transform=new e(a.transform),this.bufferCtx=b}var e=a("./Transform");d.prototype.draw=function(a,b){this.isLoaded&&(a.save(),this.transform.transform(a,b),a.drawImage(this.img,0,0),a.restore())},d.prototype.setKeyframes=function(a){this.transform.setKeyframes(a)},d.prototype.reset=function(a){this.transform.reset(a)},b.exports=d},{"./Transform":17}],10:[function(a,b,c){"use strict";function d(a){this.type=a.type}d.prototype.setCompositeOperation=function(a){switch(this.type){case 2:a.globalCompositeOperation="source-over";break;case 3:a.globalCompositeOperation="source-out";break;case 4:a.globalCompositeOperation="source-in";break;case 5:a.globalCompositeOperation="xor";break;default:a.globalCompositeOperation="source-over"}},b.exports=d},{}],11:[function(a,b,c){"use strict";function d(a){this.name=a.name,this.closed=a.closed,this.frames=a.frames,this.verticesCount=this.frames[0].v.length}var e=a("./Bezier");d.prototype.draw=function(a,b,c){var d=this.getValue(b),e=d.v;if(c){if(0===c.start&&0===c.end||1===c.start&&1===c.end)return;c=this.getTrimValues(c,d)}for(var f=1;f<e.length;f++){var g=e[f],h=e[f-1];if(c){var i;1===f&&0!==c.startIndex?a.moveTo(h[4],h[5]):f===c.startIndex+1&&f===c.endIndex+1?(i=this.trim(h,g,c.start,c.end,d.len[f-1]),a.moveTo(i.start[4],i.start[5]),a.bezierCurveTo(i.start[0],i.start[1],i.end[2],i.end[3],i.end[4],i.end[5])):f===c.startIndex+1?(i=this.trim(h,g,c.start,1,d.len[f-1]),a.moveTo(i.start[4],i.start[5]),a.bezierCurveTo(i.start[0],i.start[1],i.end[2],i.end[3],i.end[4],i.end[5])):f===c.endIndex+1?(i=this.trim(h,g,0,c.end,d.len[f-1]),a.bezierCurveTo(i.start[0],i.start[1],i.end[2],i.end[3],i.end[4],i.end[5])):f>c.startIndex+1&&f<c.endIndex+1&&a.bezierCurveTo(h[0],h[1],g[2],g[3],g[4],g[5])}else 1===f&&a.moveTo(h[4],h[5]),a.bezierCurveTo(h[0],h[1],g[2],g[3],g[4],g[5])}!c&&this.closed&&a.bezierCurveTo(g[0],g[1],e[0][2],e[0][3],e[0][4],e[0][5])},d.prototype.getValue=function(){return this.frames[0]},d.prototype.getTrimValues=function(a,b){var c,d={startIndex:0,endIndex:0,start:0,end:0};if(0===a.start){if(0===a.end)return d;if(1===a.end)return d.endIndex=b.len.length,d.end=1,d}var e,f=this.sumArray(b.len);for(e=f*a.start,c=0;c<b.len.length;c++)e>0&&e<b.len[c]&&(d.startIndex=c,d.start=e/b.len[c]),e-=b.len[c];if(1===a.end)return d.endIndex=b.len.length,d.end=1,d;for(e=f*a.end,c=0;c<b.len.length;c++)e>0&&e<b.len[c]&&(d.endIndex=c,d.end=e/b.len[c]),e-=b.len[c];return d},d.prototype.trim=function(a,b,c,d,f){if(0===c&&1===d)return{start:a,end:b};if(this.isStraight(a[4],a[5],a[0],a[1],b[2],b[3],b[4],b[5]))s=[this.lerp(a[0],b[0],c),this.lerp(a[1],b[1],c),this.lerp(a[2],b[2],c),this.lerp(a[3],b[3],c),this.lerp(a[4],b[4],c),this.lerp(a[5],b[5],c)],t=[this.lerp(a[0],b[0],d),this.lerp(a[1],b[1],d),this.lerp(a[2],b[2],d),this.lerp(a[3],b[3],d),this.lerp(a[4],b[4],d),this.lerp(a[5],b[5],d)];else{this.bezier=new e([a[4],a[5],a[0],a[1],b[2],b[3],b[4],b[5]]),this.bezier.getLength(f),c=this.bezier.map(c),d=this.bezier.map(d),d=(d-c)/(1-c);var g,h,i,j,k,l,m,n,o,p,q,r,s,t;g=[this.lerp(a[4],a[0],c),this.lerp(a[5],a[1],c)],h=[this.lerp(a[0],b[2],c),this.lerp(a[1],b[3],c)],i=[this.lerp(b[2],b[4],c),this.lerp(b[3],b[5],c)],j=[this.lerp(g[0],h[0],c),this.lerp(g[1],h[1],c)],k=[this.lerp(h[0],i[0],c),this.lerp(h[1],i[1],c)],l=[this.lerp(j[0],k[0],c),this.lerp(j[1],k[1],c)],s=[k[0],k[1],j[0],j[1],l[0],l[1]],t=[b[0],b[1],i[0],i[1],b[4],b[5]],m=[this.lerp(s[4],s[0],d),this.lerp(s[5],s[1],d)],n=[this.lerp(s[0],t[2],d),this.lerp(s[1],t[3],d)],o=[this.lerp(t[2],t[4],d),this.lerp(t[3],t[5],d)],p=[this.lerp(m[0],n[0],d),this.lerp(m[1],n[1],d)],q=[this.lerp(n[0],o[0],d),this.lerp(n[1],o[1],d)],r=[this.lerp(p[0],q[0],d),this.lerp(p[1],q[1],d)],s=[m[0],m[1],s[2],s[3],s[4],s[5]],t=[q[0],q[1],p[0],p[1],r[0],r[1]]}return{start:s,end:t}},d.prototype.lerp=function(a,b,c){var d=1-c;return a*d+b*c},d.prototype.sumArray=function(a){function b(a,b){return a+b}return a.reduce(b)},d.prototype.isStraight=function(a,b,c,d,e,f,g,h){return a===c&&b===d&&g===e&&h===f},d.prototype.setKeyframes=function(a){},d.prototype.reset=function(a){},b.exports=d},{"./Bezier":4}],12:[function(a,b,c){"use strict";function d(a){this.name=a.name,this.closed=!0,this.starType=a.starType,this.points=a.points.length>1?new f(a.points):new e(a.points),this.innerRadius=a.innerRadius.length>1?new f(a.innerRadius):new e(a.innerRadius),this.outerRadius=a.outerRadius.length>1?new f(a.outerRadius):new e(a.outerRadius),a.position&&(this.position=a.position.length>1?new f(a.position):new e(a.position)),a.rotation&&(this.rotation=a.rotation.length>1?new f(a.rotation):new e(a.rotation)),a.innerRoundness&&(this.innerRoundness=a.innerRoundness.length>1?new f(a.innerRoundness):new e(a.innerRoundness)),a.outerRoundness&&(this.outerRoundness=a.outerRoundness.length>1?new f(a.outerRoundness):new e(a.outerRoundness))}var e=a("./Property"),f=a("./AnimatedProperty");d.prototype.draw=function(a,b){var c=this.points.getValue(b),d=this.innerRadius.getValue(b),e=this.outerRadius.getValue(b),f=this.position?this.position.getValue(b):[0,0],g=this.rotation?this.rotation.getValue(b):0,h=this.innerRoundness?this.innerRoundness.getValue(b):0,i=this.outerRoundness?this.outerRoundness.getValue(b):0;g=this.deg2rad(g);var j=this.rotatePoint(0,0,0,0-e,g);a.save(),a.beginPath(),a.translate(f[0],f[1]),a.moveTo(j[0],j[1]);for(var k=0;c>k;k++){var l,m,n,o,p,q,r,s,t;t=Math.PI/c*2,l=this.rotatePoint(0,0,0,0-d,t*(k+1)-t/2+g),m=this.rotatePoint(0,0,0,0-e,t*(k+1)+g),r||(r=(j[0]+l[0])*i/100*.5522848),s||(s=(j[0]+l[0])*h/100*.5522848),n=this.rotatePoint(0,0,r,0-e,t*k+g),p=this.rotatePoint(0,0,-1*s,0-d,t*(k+1)-t/2+g),q=this.rotatePoint(0,0,s,0-d,t*(k+1)-t/2+g),o=this.rotatePoint(0,0,-1*r,0-e,t*(k+1)+g),1===this.starType?(a.bezierCurveTo(n[0],n[1],p[0],p[1],l[0],l[1]),a.bezierCurveTo(q[0],q[1],o[0],o[1],m[0],m[1])):a.bezierCurveTo(n[0],n[1],o[0],o[1],m[0],m[1])}a.restore()},d.prototype.rotatePoint=function(a,b,c,d,e){var f=Math.cos(e),g=Math.sin(e),h=f*(c-a)-g*(d-b)+a,i=g*(c-a)+f*(d-b)+b;return[h,i]},d.prototype.deg2rad=function(a){return a*(Math.PI/180)},d.prototype.setKeyframes=function(a){this.points.setKeyframes(a),this.innerRadius.setKeyframes(a),this.outerRadius.setKeyframes(a),this.position&&this.position.setKeyframes(a),this.rotation&&this.rotation.setKeyframes(a),this.innerRoundness&&this.innerRoundness.setKeyframes(a),this.outerRoundness&&this.outerRoundness.setKeyframes(a)},d.prototype.reset=function(a){this.points.reset(a),this.innerRadius.reset(a),this.outerRadius.reset(a),this.position&&this.position.reset(a),this.rotation&&this.rotation.reset(a),this.innerRoundness&&this.innerRoundness.reset(a),this.outerRoundness&&this.outerRoundness.reset(a)},b.exports=d},{"./AnimatedProperty":3,"./Property":14}],13:[function(a,b,c){"use strict";function d(a){f.call(this,a)}var e=a("./Bezier"),f=a("./AnimatedProperty");d.prototype=Object.create(f.prototype),d.prototype.onKeyframeChange=function(){this.setEasing(),this.setMotionPath()},d.prototype.getValueAtTime=function(a){return this.motionpath?this.motionpath.getValues(this.getElapsed(a)):this.lerp(this.lastFrame.v,this.nextFrame.v,this.getElapsed(a))},d.prototype.setMotionPath=function(){this.lastFrame.motionpath?(this.motionpath=new e(this.lastFrame.motionpath),this.motionpath.getLength(this.lastFrame.len)):this.motionpath=null},b.exports=d},{"./AnimatedProperty":3,"./Bezier":4}],14:[function(a,b,c){"use strict";function d(a){return a instanceof Array?void(this.frames=a):null}d.prototype.getValue=function(){return this.frames[0].v},d.prototype.setKeyframes=function(a){},d.prototype.reset=function(a){},b.exports=d},{}],15:[function(a,b,c){"use strict";function d(a){this.name=a.name,this.closed=!0,this.size=a.size.length>1?new f(a.size):new e(a.size),a.position&&(this.position=a.position.length>1?new f(a.position):new e(a.position)),a.roundness&&(this.roundness=a.roundness.length>1?new f(a.roundness):new e(a.roundness))}var e=a("./Property"),f=a("./AnimatedProperty");d.prototype.draw=function(a,b,c){var d=this.size.getValue(b),e=this.position?this.position.getValue(b):[0,0],f=this.roundness?this.roundness.getValue(b):0;d[0]<2*f&&(f=d[0]/2),d[1]<2*f&&(f=d[1]/2);var g=e[0]-d[0]/2,h=e[1]-d[1]/2;if(c){c=this.getTrimValues(c)}else a.moveTo(g+f,h),a.arcTo(g+d[0],h,g+d[0],h+d[1],f),a.arcTo(g+d[0],h+d[1],g,h+d[1],f),a.arcTo(g,h+d[1],g,h,f),a.arcTo(g,h,g+d[0],h,f)},d.prototype.setKeyframes=function(a){this.size.setKeyframes(a),this.position&&this.position.setKeyframes(a),this.roundness&&this.roundness.setKeyframes(a)},d.prototype.reset=function(a){this.size.reset(a),this.position&&this.position.reset(a),this.roundness&&this.roundness.reset(a)},b.exports=d},{"./AnimatedProperty":3,"./Property":14}],16:[function(a,b,c){"use strict";function d(a){a&&(this.join=a.join,this.cap=a.cap,a.miterLimit&&(a.miterLimit.length>1?this.miterLimit=new f(a.miterLimit):this.miterLimit=new e(a.miterLimit)),a.color.length>1?this.color=new f(a.color):this.color=new e(a.color),a.opacity.length>1?this.opacity=new f(a.opacity):this.opacity=new e(a.opacity),a.width.length>1?this.width=new f(a.width):this.width=new e(a.width))}var e=a("./Property"),f=a("./AnimatedProperty");d.prototype.getValue=function(a){var b=this.color.getValue(a),c=this.opacity.getValue(a);b[0]=Math.round(b[0]),b[1]=Math.round(b[1]),b[2]=Math.round(b[2]);var d=b.join(", ");return"rgba("+d+", "+c+")"},d.prototype.setStroke=function(a,b){var c=this.getValue(b),d=this.width.getValue(b),e=this.join;if("miter"===e)var f=this.miterLimit.getValue(b);a.lineWidth=d,a.lineJoin=e,f&&(a.miterLimit=f),a.lineCap=this.cap,a.strokeStyle=c},d.prototype.setKeyframes=function(a){this.color.setKeyframes(a),this.opacity.setKeyframes(a),this.width.setKeyframes(a),this.miterLimit&&this.miterLimit.setKeyframes(a)},d.prototype.reset=function(a){this.color.reset(a),this.opacity.reset(a),this.width.reset(a),this.miterLimit&&this.miterLimit.reset(a)},b.exports=d},{"./AnimatedProperty":3,"./Property":14}],17:[function(a,b,c){"use strict";function d(a){a&&(this.name=a.name,a.positionX&&a.positionY?a.positionX.length>1&&a.positionY.length>1?(this.positionX=new f(a.positionX),this.positionY=new f(a.positionY)):(this.positionX=new e(a.positionX),this.positionY=new e(a.positionY)):a.position&&(a.position.length>1?this.position=new g(a.position):this.position=new e(a.position)),a.anchor&&(this.anchor=a.anchor.length>1?new f(a.anchor):new e(a.anchor)),a.scaleX&&(this.scaleX=a.scaleX.length>1?new f(a.scaleX):new e(a.scaleX)),a.scaleY&&(this.scaleY=a.scaleY.length>1?new f(a.scaleY):new e(a.scaleY)),a.skew&&(this.skew=a.skew.length>1?new f(a.skew):new e(a.skew)),a.skewAxis&&(this.skewAxis=a.skewAxis.length>1?new f(a.skewAxis):new e(a.skewAxis)),a.rotation&&(this.rotation=a.rotation.length>1?new f(a.rotation):new e(a.rotation)),a.opacity&&(this.opacity=a.opacity.length>1?new f(a.opacity):new e(a.opacity)))}var e=a("./Property"),f=a("./AnimatedProperty"),g=a("./Position");d.prototype.transform=function(a,b){var c,d,e=this.anchor?this.anchor.getValue(b):[0,0],f=this.rotation?this.deg2rad(this.rotation.getValue(b)):0,g=this.skew?this.deg2rad(this.skew.getValue(b)):0,h=this.skewAxis?this.deg2rad(this.skewAxis.getValue(b)):0,i=this.scaleX?this.scaleX.getValue(b):1,j=this.scaleY?this.scaleY.getValue(b):1,k=this.opacity?this.opacity.getValue(b)*a.globalAlpha:a.globalAlpha;if(this.positionX&&this.positionY)c=this.positionX.getValue(b),d=this.positionY.getValue(b);else if(this.position){var l=this.position.getValue(b,a);c=l[0],d=l[1]}else c=0,d=0;a.transform(1,0,0,1,c-e[0],d-e[1]),this.setRotation(a,f,e[0],e[1]),this.setSkew(a,g,h,e[0],e[1]),this.setScale(a,i,j,e[0],e[1]),a.globalAlpha=k},d.prototype.setRotation=function(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=c-e*c+f*d,h=d-f*c-e*d;a.transform(e,f,-f,e,g,h)},d.prototype.setScale=function(a,b,c,d,e){a.transform(b,0,0,c,-d*b+d,-e*c+e)},d.prototype.setSkew=function(a,b,c,d,e){var f=Math.tan(-b);this.setRotation(a,-c,d,e),a.transform(1,0,f,1,-e*f,0),this.setRotation(a,c,d,e)},d.prototype.deg2rad=function(a){return a*(Math.PI/180)},d.prototype.setKeyframes=function(a){this.anchor&&this.anchor.setKeyframes(a),this.rotation&&this.rotation.setKeyframes(a),this.skew&&this.skew.setKeyframes(a),this.skewAxis&&this.skewAxis.setKeyframes(a),this.position&&this.position.setKeyframes(a),this.positionX&&this.positionX.setKeyframes(a),this.positionY&&this.positionY.setKeyframes(a),this.scaleX&&this.scaleX.setKeyframes(a),this.scaleY&&this.scaleY.setKeyframes(a),this.opacity&&this.opacity.setKeyframes(a)},d.prototype.reset=function(a){this.anchor&&this.anchor.reset(a),this.rotation&&this.rotation.reset(a),this.skew&&this.skew.reset(a),this.skewAxis&&this.skewAxis.reset(a),this.position&&this.position.reset(a),this.positionX&&this.positionX.reset(a),this.positionY&&this.positionY.reset(a),this.scaleX&&this.scaleX.reset(a),this.scaleY&&this.scaleY.reset(a),this.opacity&&this.opacity.reset(a)},b.exports=d},{"./AnimatedProperty":3,
"./Position":13,"./Property":14}],18:[function(a,b,c){"use strict";function d(a){this.type=a.type,a.start&&(this.start=a.start.length>1?new f(a.start):new e(a.start)),a.end&&(this.end=a.end.length>1?new f(a.end):new e(a.end))}var e=a("./Property"),f=a("./AnimatedProperty");d.prototype.getTrim=function(a){var b=this.start?this.start.getValue(a):0,c=this.end?this.end.getValue(a):1,d={start:Math.min(b,c),end:Math.max(b,c)};return 0===d.start&&1===d.end?null:d},d.prototype.setKeyframes=function(a){this.start&&this.start.setKeyframes(a),this.end&&this.end.setKeyframes(a)},d.prototype.reset=function(a){this.start&&this.start.reset(a),this.end&&this.end.reset(a)},b.exports=d},{"./AnimatedProperty":3,"./Property":14}]},{},[1])(1)});